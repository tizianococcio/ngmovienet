<h1>Film</h1>
<h3 ng-show="ctrl.director.nome">di {{ ctrl.director.nome }}</h3>
<h4>{{ ctrl.movies.length }} in {{ ctrl.pagination.numPages }} pagin<span ng-if="ctrl.pagination.numPages > 1">e</span><span ng-if="ctrl.pagination.numPages == 1">a</span></h4>
<input type="text" class="form-control" ng-model="filtro" placeholder="Filtra">

<ul class="pager">
  <li class="previous" ng-class="{disabled: ctrl.pagination.page == 0}"><a href="javascript:void(0)" ng-click="ctrl.pagination.firstPage()">&larr; Prima pagina</a></li>
  <li class="next" ng-class="{disabled: ctrl.pagination.page == ctrl.pagination.numPages - 1}"><a href="javascript:void(0)" ng-click="ctrl.pagination.lastPage()">Ultima pagina &rarr;</a></li>
</ul>

<ul class="pagination">
	<li ng-class="{disabled: ctrl.pagination.page == 0}"><a href="javascript:void(0)" ng-click="ctrl.pagination.prevPage()">&laquo;</a></li>

	<li ng-repeat="n in [] 
			| range: ((ctrl.pagination.page > ctrl.pagination.range) ? ctrl.pagination.page - ctrl.pagination.range : 0 ) : 
			((ctrl.pagination.page < ctrl.pagination.numPages - ctrl.pagination.range) ? ctrl.pagination.page + ctrl.pagination.range : ctrl.pagination.numPages - 1)" 
			ng-class="{active: n == ctrl.pagination.page}">
	    <a href="javascript:void(0)" ng-click="ctrl.pagination.toPageId(n)">{{n + 1}}</a>
	</li>

	<li ng-class="{disabled: ctrl.pagination.page == ctrl.pagination.numPages - 1}"><a href="javascript:void(0)" ng-click="ctrl.pagination.nextPage()">&raquo;</a></li>
</ul>

<table class="table table-hover">
	<tr>
		<th>Titolo</th>
		<th>Posizione</th>
		<th>&nbsp;</th>
	</tr>
	
	<tr ng-repeat="movie in ctrl.movies | filter: filtro | startFrom: ctrl.pagination.page * ctrl.pagination.perPage | limitTo: ctrl.pagination.perPage">
		<td><a href="#/movie/{{ movie.id }}">{{ movie.titolo }}</a></td>
		<td>{{ movie.posizione }}</td>
		<td class="dropdown">
			<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
				Lista
				<span class="caret"></span>
			</button>
			<ul class="dropdown-menu">
				<li ng-repeat="lista in ctrl.liste">
					<a href="javascript:void(0)" ng-click="ctrl.linkMovieToList(movie.id, lista.id)">
						<span ng-if="lista.movies.indexOf(movie.id) > -1" class="glyphicon glyphicon-ok">&nbsp;</span>{{ lista.nome }}
					</a>
				</li>
			</ul>
		</td>
	</tr>
</table>

<ul class="pagination">
	<li ng-class="{disabled: ctrl.pagination.page == 0}"><a href="javascript:void(0)" ng-click="ctrl.pagination.prevPage()">&laquo;</a></li>

	<li ng-repeat="n in [] 
			| range: ((ctrl.pagination.page > ctrl.pagination.range) ? ctrl.pagination.page - ctrl.pagination.range : 0 ) : 
			((ctrl.pagination.page < ctrl.pagination.numPages - ctrl.pagination.range) ? ctrl.pagination.page + ctrl.pagination.range : ctrl.pagination.numPages - 1)" 
			ng-class="{active: n == ctrl.pagination.page}">
	    <a href="javascript:void(0)" ng-click="ctrl.pagination.toPageId(n)">{{n + 1}}</a>
	</li>

	<li ng-class="{disabled: ctrl.pagination.page == ctrl.pagination.numPages - 1}"><a href="javascript:void(0)" ng-click="ctrl.pagination.nextPage()">&raquo;</a></li>
</ul>
